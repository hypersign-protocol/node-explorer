"use strict";(self["webpackChunkping_wallet"]=self["webpackChunkping_wallet"]||[]).push([[111],{78111:function(t,e,s){s.r(e),s.d(e,{default:function(){return k}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-card",{staticClass:"text-truncate",attrs:{"no-body":""}},[s("b-tabs",{staticClass:"mt-1",attrs:{pills:""}},[s("b-tab",{attrs:{title:"Recent",disabled:""}}),s("b-tab",{attrs:{title:"Blocks",active:""}},[s("b-table",{attrs:{items:t.blocks,fields:t.list_fields,"sort-desc":!0,"sort-by":"tokens",striped:"",hover:"",stacked:"sm"},scopedSlots:t._u([{key:"cell(height)",fn:function(e){return[s("router-link",{attrs:{to:"./blocks/"+e.item.block.header.height}},[t._v(" "+t._s(e.item.block.header.height)+" ")])]}},{key:"cell(hash)",fn:function(e){return[s("small",[t._v(t._s(e.item.block_id.hash))])]}},{key:"cell(time)",fn:function(e){return[t._v(" "+t._s(t.formatTime(e.item.block.header.time))+" ")]}},{key:"cell(proposer)",fn:function(e){return[t._v(" "+t._s(t.formatProposer(e.item.block.header.proposer_address))+" ")]}},{key:"cell(txs)",fn:function(e){return[t._v(" "+t._s(t.length(e.item.block.data.txs))+" ")]}}])})],1),s("b-tab",{attrs:{title:"Transactions"}},[s("b-table",{attrs:{items:t.txs,fields:t.txFields,responsive:"sm"},scopedSlots:t._u([{key:"cell(hash)",fn:function(e){return[s("router-link",{attrs:{to:"./tx/"+e.value}},[t._v(" "+t._s(t.shortHash(e.value))+" ")])]}}])})],1)],1)],1)],1)},r=[],i=s(51015),o=s(58887),n=s(8775),l=s(13170),c=s(87047),h=s(49379),d=s(5870),f=s(99546),u=s(74087),b=s(28972),m=s(33643),p={components:{BTab:i.L,BTabs:o.M,BCard:n._,BTable:l.h,BCardHeader:c.p,BCardTitle:h._},directives:{"b-tooltip":d.o},data(){return{islive:!0,blocks:[],txs:[],list_fields:[{key:"height",sortable:!0},{key:"hash",thClass:"d-none d-lg-block",tdClass:"d-none d-lg-block text-truncate"},{key:"proposer",tdClass:"text-truncate"},{key:"txs"},{key:"time",thClass:"d-none d-md-block",tdClass:"d-none d-md-block"}],txFields:[{key:"hash"},{key:"time",formatter:t=>(0,f.toDay)(t,"from")},{key:"fee",formatter:t=>(0,f.tokenFormatter)(t)},{key:"messages",formatter:t=>(0,f.abbrMessage)(t)},{key:"memo"}]}},created(){this.$http.getLatestBlock().then((t=>{this.blocks.push(t);const e=[],{height:s}=t.block.header;for(let r=1;r<10;r+=1)e.push(s-r);(0,f.getCachedValidators)()||this.$http.getValidatorList();let a=Promise.resolve();e.forEach((t=>{a=a.then((()=>new Promise((e=>{this.$http.getBlockByHeight(t).then((t=>{e(),this.blocks.push(t),this.txs.length<20&&this.extractTx(t,"tail")}))}))))})),this.timer=setInterval(this.fetch,6e3)}))},beforeDestroy(){this.islive=!1,clearInterval(this.timer)},methods:{length:t=>Array.isArray(t)?t.length:0,shortHash:t=>(0,f.abbr)(t),formatTime:t=>(0,f.toDay)(t,"from"),formatProposer(t){return(0,f.getStakingValidatorByHex)(this.$http.config.chain_name,t)},fetch(){this.$http.getLatestBlock().then((t=>{const e=this.blocks.findIndex((e=>e.block.header.height===t.block.header.height));e<0&&(this.blocks.unshift(t),this.extractTx(t)),this.blocks.length>200&&this.blocks.pop()}))},extractTx(t,e="head"){const{txs:s}=t.block.data;if(null!==s)for(let r=0;r<s.length;r+=1){let i=new m.Z;try{const e=(0,u.decodeTxRaw)((0,b.fromBase64)(s[r]));i=m.Z.create(e),i.time=t.block.header.time}catch(a){}i.setHash(s[r]),"head"===e?(this.txs.unshift(i),this.txs.length>200&&this.txs.pop()):this.txs.length<100&&this.txs.push(i)}}}},g=p,v=s(43736),y=(0,v.Z)(g,a,r,!1,null,null,null),k=y.exports},5870:function(t,e,s){s.d(e,{o:function(){return J}});var a=s(94689),r=s(43935),i=s(63294),o=s(11572),n=s(79968),l=s(13597),c=s(68265),h=s(33284),d=s(3058),f=s(93954),u=s(67040),b=s(40960);function m(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function p(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?m(Object(s),!0).forEach((function(e){g(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function g(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var v="__BV_Tooltip__",y="hover focus",k={focus:!0,hover:!0,click:!0,blur:!0,manual:!0},_=/^html$/i,x=/^noninteractive$/i,w=/^nofade$/i,P=/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/i,C=/^(window|viewport|scrollParent)$/i,O=/^d\d+$/i,$=/^ds\d+$/i,j=/^dh\d+$/i,B=/^o-?\d+$/i,T=/^v-.+$/i,Z=/\s+/,D=function(t,e){var s={title:void 0,trigger:"",placement:"top",fallbackPlacement:"flip",container:!1,animation:!0,offset:0,id:null,html:!1,interactive:!0,disabled:!1,delay:(0,n.wJ)(a.qv,"delay",50),boundary:String((0,n.wJ)(a.qv,"boundary","scrollParent")),boundaryPadding:(0,f.Z3)((0,n.wJ)(a.qv,"boundaryPadding",5),0),variant:(0,n.wJ)(a.qv,"variant"),customClass:(0,n.wJ)(a.qv,"customClass")};if((0,h.HD)(t.value)||(0,h.hj)(t.value)||(0,h.mf)(t.value)?s.title=t.value:(0,h.PO)(t.value)&&(s=p(p({},s),t.value)),(0,h.o8)(s.title)){var r=e.data||{};s.title=r.attrs&&!(0,h.Jp)(r.attrs.title)?r.attrs.title:void 0}(0,h.PO)(s.delay)||(s.delay={show:(0,f.Z3)(s.delay,0),hide:(0,f.Z3)(s.delay,0)}),t.arg&&(s.container="#".concat(t.arg)),(0,u.XP)(t.modifiers).forEach((function(t){if(_.test(t))s.html=!0;else if(x.test(t))s.interactive=!1;else if(w.test(t))s.animation=!1;else if(P.test(t))s.placement=t;else if(C.test(t))t="scrollparent"===t?"scrollParent":t,s.boundary=t;else if(O.test(t)){var e=(0,f.Z3)(t.slice(1),0);s.delay.show=e,s.delay.hide=e}else $.test(t)?s.delay.show=(0,f.Z3)(t.slice(2),0):j.test(t)?s.delay.hide=(0,f.Z3)(t.slice(2),0):B.test(t)?s.offset=(0,f.Z3)(t.slice(1),0):T.test(t)&&(s.variant=t.slice(2)||null)}));var i={};return(0,o.zo)(s.trigger||"").filter(c.y).join(" ").trim().toLowerCase().split(Z).forEach((function(t){k[t]&&(i[t]=!0)})),(0,u.XP)(t.modifiers).forEach((function(t){t=t.toLowerCase(),k[t]&&(i[t]=!0)})),s.trigger=(0,u.XP)(i).join(" "),"blur"===s.trigger&&(s.trigger="focus"),s.trigger||(s.trigger=y),s},H=function(t,e,s){if(r.Qg){var a=D(e,s);if(!t[v]){var o=s.context;t[v]=new b.j({parent:o,_scopeId:(0,l.P)(o,void 0)}),t[v].__bv_prev_data__={},t[v].$on(i.l0,(function(){(0,h.mf)(a.title)&&t[v].updateData({title:a.title(t)})}))}var n={title:a.title,triggers:a.trigger,placement:a.placement,fallbackPlacement:a.fallbackPlacement,variant:a.variant,customClass:a.customClass,container:a.container,boundary:a.boundary,delay:a.delay,offset:a.offset,noFade:!a.animation,id:a.id,interactive:a.interactive,disabled:a.disabled,html:a.html},c=t[v].__bv_prev_data__;if(t[v].__bv_prev_data__=n,!(0,d.W)(n,c)){var f={target:t};(0,u.XP)(n).forEach((function(e){n[e]!==c[e]&&(f[e]="title"===e&&(0,h.mf)(n[e])?n[e](t):n[e])})),t[v].updateData(f)}}},E=function(t){t[v]&&(t[v].$destroy(),t[v]=null),delete t[v]},J={bind:function(t,e,s){H(t,e,s)},componentUpdated:function(t,e,s){s.context.$nextTick((function(){H(t,e,s)}))},unbind:function(t){E(t)}}},33643:function(t,e,s){s.d(e,{Z:function(){return o}});var a=s(79562),r=s(28972),i=s(4799);class o{constructor(){this.hash="",this.fee=[new i.Z],this.memo="",this.messages=[],this.signatures=[],this.time=null}static create(t){const e=new o;return e.hash="",e.fee=t.authInfo.fee.amount,e.memo=t.body.memo,e.messages=t.body.messages,e.signatures=t.signatures,e}setHash(t){this.hash=(0,r.toHex)((0,a.sha256)((0,r.fromBase64)(t))).toUpperCase()}}}}]);